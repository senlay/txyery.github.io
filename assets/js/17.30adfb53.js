(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{508:function(e,s,t){"use strict";t.r(s);var n=t(4),a=Object(n.a)({},(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h4",{attrs:{id:"无所不能的powermock"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#无所不能的powermock"}},[e._v("#")]),e._v(" 无所不能的PowerMock")]),e._v(" "),t("ul",[t("li",[e._v("更多测试用例")])]),e._v(" "),t("blockquote",[t("p",[e._v("https://github.com/powermock/powermock/wiki/Mockito")])]),e._v(" "),t("ul",[t("li",[e._v("Mockito.verify")])]),e._v(" "),t("blockquote",[t("p",[e._v("PowerMockito.verifyStatic(Mockito.times(2)); // 被调用2次\nMockito.verify(classUnderTest, times(2)).callArgumentInstance(file);// 被调用2次")])]),e._v(" "),t("ul",[t("li",[e._v("Mockito.verify api")])]),e._v(" "),t("blockquote",[t("p",[e._v("Mockito.verify(employeeDao, Mockito.never()).saveEmployee(employee);"),t("br"),e._v("\nMockito.verify(employeeDao,"),t("br"),e._v("\nMockito.atLeastOnce()).saveEmployee(employee);"),t("br"),e._v("\nMockito.verify(employeeDao,"),t("br"),e._v("\nMockito.times(1)).saveEmployee(employee);"),t("br"),e._v("\nMockito.verify(employeeDao,"),t("br"),e._v("\nMockito.atMost(1)).saveEmployee(employee);"),t("br"),e._v("\nMockito.verify(employeeDao,"),t("br"),e._v("\nMockito.atLeast(1)).saveEmployee(employee);")])]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("package com.pace.mock;  \n  \nimport org.junit.Test;  \nimport org.junit.runner.RunWith;  \nimport org.mockito.Mockito;  \nimport org.powermock.api.mockito.PowerMockito;  \nimport org.powermock.core.classloader.annotations.PrepareForTest;  \nimport org.powermock.modules.junit4.PowerMockRunner;  \n  \nimport java.io.File;  \n  \nimport static org.mockito.Mockito.times;  \n  \n@RunWith(PowerMockRunner.class)  \n// We prepare PartialMockClass for test because it's final or we need to mock private or static methods  \n@PrepareForTest(TestCase1.class)  \npublic class YourTestCase {  \n @Test  \n public void spyingWithPowerMock() {  \n TestCase1 classUnderTest = PowerMockito.spy(new TestCase1());  \n File file = PowerMockito.mock(File.class);  \n // use Mockito to set up your expectation  \n Mockito.when(classUnderTest.callArgumentInstance(file)).thenReturn(true);  \n  \n // execute your test  \n classUnderTest.callArgumentInstance(file);  \n  \n // Use Mockito.verify() to verify result  \n Mockito.verify(classUnderTest, times(2)).callArgumentInstance(file);  \n }  \n}\n\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br"),t("span",{staticClass:"line-number"},[e._v("12")]),t("br"),t("span",{staticClass:"line-number"},[e._v("13")]),t("br"),t("span",{staticClass:"line-number"},[e._v("14")]),t("br"),t("span",{staticClass:"line-number"},[e._v("15")]),t("br"),t("span",{staticClass:"line-number"},[e._v("16")]),t("br"),t("span",{staticClass:"line-number"},[e._v("17")]),t("br"),t("span",{staticClass:"line-number"},[e._v("18")]),t("br"),t("span",{staticClass:"line-number"},[e._v("19")]),t("br"),t("span",{staticClass:"line-number"},[e._v("20")]),t("br"),t("span",{staticClass:"line-number"},[e._v("21")]),t("br"),t("span",{staticClass:"line-number"},[e._v("22")]),t("br"),t("span",{staticClass:"line-number"},[e._v("23")]),t("br"),t("span",{staticClass:"line-number"},[e._v("24")]),t("br"),t("span",{staticClass:"line-number"},[e._v("25")]),t("br"),t("span",{staticClass:"line-number"},[e._v("26")]),t("br"),t("span",{staticClass:"line-number"},[e._v("27")]),t("br"),t("span",{staticClass:"line-number"},[e._v("28")]),t("br"),t("span",{staticClass:"line-number"},[e._v("29")]),t("br"),t("span",{staticClass:"line-number"},[e._v("30")]),t("br"),t("span",{staticClass:"line-number"},[e._v("31")]),t("br"),t("span",{staticClass:"line-number"},[e._v("32")]),t("br")])])])}),[],!1,null,null,null);s.default=a.exports}}]);